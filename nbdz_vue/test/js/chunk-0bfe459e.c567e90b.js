(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bfe459e","chunk-2d2244c0"],{a864:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{ref:"formTask",attrs:{"label-position":"right",model:e.Row,rules:e.rule,"label-width":200}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"任务名称",prop:"jobName"}},[a("Input",{attrs:{clearable:""},model:{value:e.Row.jobName,callback:function(t){e.$set(e.Row,"jobName",t)},expression:"Row.jobName"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"任务组",prop:"jobGroup"}},[a("Input",{attrs:{clearable:""},model:{value:e.Row.jobGroup,callback:function(t){e.$set(e.Row,"jobGroup",t)},expression:"Row.jobGroup"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"Corn表达式",prop:"cron"}},[a("Input",{attrs:{clearable:""},model:{value:e.Row.cron,callback:function(t){e.$set(e.Row,"cron",t)},expression:"Row.cron"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"任务所在DLL对应的程序集名称",prop:"assemblyName"}},[a("Input",{attrs:{clearable:""},model:{value:e.Row.assemblyName,callback:function(t){e.$set(e.Row,"assemblyName",t)},expression:"Row.assemblyName"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"任务所在类",prop:"className"}},[a("Input",{attrs:{clearable:""},model:{value:e.Row.className,callback:function(t){e.$set(e.Row,"className",t)},expression:"Row.className"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"开始运行时间",prop:"beginTime"}},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetime",format:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择开始运行时间"},model:{value:e.Row.beginTime,callback:function(t){e.$set(e.Row,"beginTime",t)},expression:"Row.beginTime"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"结束运行时间",prop:"endTime"}},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetime",format:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择开始运行时间"},model:{value:e.Row.endTime,callback:function(t){e.$set(e.Row,"endTime",t)},expression:"Row.endTime"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"触发器类型",prop:"triggerType"}},[a("Select",{staticStyle:{width:"200px"},model:{value:e.Row.triggerType,callback:function(t){e.$set(e.Row,"triggerType",t)},expression:"Row.triggerType"}},[a("Option",{attrs:{value:"0"}},[e._v("simple")]),a("Option",{attrs:{value:"1"}},[e._v("cron")])],1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"执行间隔时间(s)",prop:"intervalSecond"}},[a("Input",{attrs:{clearable:""},model:{value:e.Row.intervalSecond,callback:function(t){e.$set(e.Row,"intervalSecond",t)},expression:"Row.intervalSecond"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"外部url",prop:"url"}},[a("Input",{attrs:{clearable:""},model:{value:e.Row.url,callback:function(t){e.$set(e.Row,"url",t)},expression:"Row.url"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"24"}},[a("div",{staticStyle:{"text-align":"center"}},[a("Button",{on:{click:function(t){e.parent.modelEdit=!1}}},[e._v("取消")]),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.save("formTask")}}},[e._v("保存")])],1)])],1)],1)],1)},o=[],n=(a("7f7f"),a("e010")),s={props:{editRow:Object,parent:Object},computed:{},data:function(){return{Row:{},Roles:[],Depts:[],DeptTree:[],DeptTreeItems:[],modelDept:!1,rule:{jobName:[{required:!0,message:"请输入任务名称",trigger:"blur"}],jobGroup:[{required:!0,message:"请输入任务组",trigger:"blur"}],cron:[{required:!0,message:"请输入cron表达式",trigger:"blur"}],assemblyName:[{required:!0,message:"请输入任务所在DLL对应的程序集名称",trigger:"blur"}],className:[{required:!0,message:"请输入任务所在类",trigger:"blur"}]}}},methods:{save:function(){this.Row.id?this.saveEdit():this.saveAdd()},saveAdd:function(){var e=this;this.saveValidate().then((function(t){t&&Object(n["Add"])(e.Row).then((function(t){var a=t.data,r=(a.data,a.code),o=a.msg;200===r?(e.$Message.info("添加成功"),e.parent.modelEdit=!1,e.parent.loadData()):e.$Message.error({content:o,duration:10,closable:!0})})).catch((function(e){console.log(e)}))}))},saveEdit:function(){var e=this;this.saveValidate().then((function(t){t&&Object(n["Edit"])(e.Row).then((function(t){var a=t.data,r=(a.data,a.code),o=a.msg;200===r?(e.$Message.info("编辑成功"),e.parent.modelEdit=!1,e.parent.loadData()):e.$Message.error({content:o,duration:10,closable:!0})})).catch((function(e){}))}))},saveValidate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"formTask";return this.$refs[t].validate((function(t){return!!t||(e.$Message.warning("请检查表单数据！"),!1)}))}},watch:{editRow:function(e,t){this.Row=Object.assign({},e)}},mounted:function(){}},l=s,i=a("2877"),u=Object(i["a"])(l,r,o,!1,null,null,null);t["default"]=u.exports},e010:function(e,t,a){"use strict";a.r(t),a.d(t,"GetPage",(function(){return o})),a.d(t,"Add",(function(){return n})),a.d(t,"Edit",(function(){return s})),a.d(t,"Excute",(function(){return l})),a.d(t,"Stop",(function(){return i})),a.d(t,"Resume",(function(){return u})),a.d(t,"Delete",(function(){return c}));var r=a("66df"),o=function(e){return r["default"].request({url:"api/Schedule/GetPage",data:e,method:"post"})},n=function(e){return r["default"].request({url:"api/Schedule/Add",data:e,method:"post"})},s=function(e){return r["default"].request({url:"api/Schedule/Edit",data:e,method:"post"})},l=function(e){return r["default"].request({url:"api/Schedule/Excute/"+e,method:"post"})},i=function(e){return r["default"].request({url:"api/Schedule/Stop/"+e,method:"post"})},u=function(e){return r["default"].request({url:"api/Schedule/Resume/"+e,method:"post"})},c=function(e){return r["default"].request({url:"api/Schedule/Delete/"+e,method:"post"})}}}]);